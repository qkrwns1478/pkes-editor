(function(){"use strict";var e={5099:function(e,n,r){var a=r(5130),t=r(6768);function o(e,n,r,a,o,l){const i=(0,t.g2)("Home");return(0,t.uX)(),(0,t.Wv)(i)}var l=r(4232);const i={class:"home-container"},s={key:0,class:"toast-message"},u={class:"upload-section"},c={class:"upload-container"},d={class:"drop-zone-content"},p={class:"upload-icon"},v={key:0,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},f={key:1,class:"loading-spinner"},g={class:"upload-text"},h={key:0,class:"primary-text"},k={key:1,class:"primary-text"},y=["disabled"];function m(e,n,r,a,o,m){return(0,t.uX)(),(0,t.CE)("div",i,[a.errorMessage?((0,t.uX)(),(0,t.CE)("div",s,(0,l.v_)(a.errorMessage),1)):(0,t.Q3)("",!0),n[9]||(n[9]=(0,t.Lk)("header",{class:"hero-section"},[(0,t.Lk)("div",{class:"hero-content"},[(0,t.Lk)("h1",{class:"hero-title"},"PKES Save Editor"),(0,t.Lk)("p",{class:"hero-description"}," Web save editor for PokÃ©mon Essentials based games ")])],-1)),(0,t.Lk)("section",u,[(0,t.Lk)("div",c,[(0,t.Lk)("div",{class:(0,l.C4)(["drop-zone",{"drag-over":a.isDragOver,uploading:a.isUploading}]),onDrop:n[2]||(n[2]=(...e)=>a.handleDrop&&a.handleDrop(...e)),onDragover:n[3]||(n[3]=(...e)=>a.handleDragOver&&a.handleDragOver(...e)),onDragenter:n[4]||(n[4]=(...e)=>a.handleDragEnter&&a.handleDragEnter(...e)),onDragleave:n[5]||(n[5]=(...e)=>a.handleDragLeave&&a.handleDragLeave(...e))},[(0,t.Lk)("div",d,[(0,t.Lk)("div",p,[a.isUploading?((0,t.uX)(),(0,t.CE)("div",f)):((0,t.uX)(),(0,t.CE)("svg",v,[...n[6]||(n[6]=[(0,t.Lk)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},null,-1),(0,t.Lk)("polyline",{points:"7,10 12,15 17,10"},null,-1),(0,t.Lk)("line",{x1:"12",y1:"15",x2:"12",y2:"3"},null,-1)])]))]),(0,t.Lk)("div",g,[a.isUploading?((0,t.uX)(),(0,t.CE)("p",k,"Uploading...")):((0,t.uX)(),(0,t.CE)("p",h," Upload to drag or click here ")),n[7]||(n[7]=(0,t.Lk)("p",{class:"secondary-text"},[(0,t.Lk)("strong",null,"Allowed format:"),(0,t.eW)(" rxdata ")],-1)),n[8]||(n[8]=(0,t.Lk)("p",{class:"file-size-text"},"Max File Size: 10MB",-1))]),(0,t.Lk)("input",{ref:"fileInput",type:"file",class:"file-input",accept:".rxdata",onChange:n[0]||(n[0]=(...e)=>a.handleFileSelect&&a.handleFileSelect(...e))},null,544),(0,t.Lk)("button",{class:"browse-button",onClick:n[1]||(n[1]=(...e)=>a.triggerFileInput&&a.triggerFileInput(...e)),disabled:a.isUploading}," Select File ",8,y)])],34)])])])}r(4114);var D=r(144),L=r(747),b={name:"HomePage",setup(){const e=(0,L.rd)(),n=(0,D.KR)(null),r=(0,D.KR)(!1),a=(0,D.KR)(!1),t=(0,D.KR)("");let o=null;const l=10485760,i=e=>{e.preventDefault(),r.value=!0},s=e=>{e.preventDefault(),r.value=!0},u=e=>{e.preventDefault(),r.value=!1},c=e=>{e.preventDefault(),r.value=!1;const n=Array.from(e.dataTransfer.files);n.length>0&&v(n[0])},d=e=>{const n=Array.from(e.target.files);n.length>0&&v(n[0])},p=()=>{n.value?.click()},v=async e=>{if(k(),f(e))try{a.value=!0,await g(e)}catch(r){h("Failed to upload.")}finally{a.value=!1,n.value.value=""}else n.value.value=""},f=e=>{if(e.size>l)return h("File size is too large."),!1;const n=e.name.split(".").pop().toLowerCase();return"rxdata"===n||(h("Please upload rxdata file."),!1)},g=async n=>{const r=new FormData;r.append("file",n);try{const n=await fetch("/api/upload",{method:"POST",body:r}),a=await n.json();sessionStorage.setItem("saveData",JSON.stringify(a.data)),sessionStorage.setItem("fileId",a.fileId),e.push("/editor")}catch(a){throw new Error("Upload failed")}},h=e=>{o&&clearTimeout(o),t.value=e,o=setTimeout(()=>{t.value=""},2e3)},k=()=>{o&&(clearTimeout(o),o=null),t.value=""};return{fileInput:n,isDragOver:r,isUploading:a,errorMessage:t,handleDragOver:i,handleDragEnter:s,handleDragLeave:u,handleDrop:c,handleFileSelect:d,triggerFileInput:p,clearError:k}}},w=r(1241);const x=(0,w.A)(b,[["render",m],["__scopeId","data-v-466a5ca7"]]);var O=x,E={name:"App",components:{Home:O}};const C=(0,w.A)(E,[["render",o]]);var F=C;(0,a.Ef)(F).mount("#app")}},n={};function r(a){var t=n[a];if(void 0!==t)return t.exports;var o=n[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(n,a,t,o){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],t=e[c][1],o=e[c][2];for(var i=!0,s=0;s<a.length;s++)(!1&o||l>=o)&&Object.keys(r.O).every(function(e){return r.O[e](a[s])})?a.splice(s--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var u=t();void 0!==u&&(n=u)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,t,o]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var a in n)r.o(n,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};r.O.j=function(n){return 0===e[n]};var n=function(n,a){var t,o,l=a[0],i=a[1],s=a[2],u=0;if(l.some(function(n){return 0!==e[n]})){for(t in i)r.o(i,t)&&(r.m[t]=i[t]);if(s)var c=s(r)}for(n&&n(a);u<l.length;u++)o=l[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},a=self["webpackChunkvue"]=self["webpackChunkvue"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],function(){return r(5099)});a=r.O(a)})();
//# sourceMappingURL=app.07cffe2a.js.map